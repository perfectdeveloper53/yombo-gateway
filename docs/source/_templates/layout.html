{# Import the theme's layout. #}
{% extends "!layout.html" %}

{# Custom CSS overrides #}
{% set css_files = ['_static/yombo-styles.css'] %}

{# Add some extra stuff before and use existing with 'super()' call. #}
{% block footer %}
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a><br>
        &copy; Copyright 2012-2018, Yombo<br/>
    </p>
    <p>
      <strong>Other resources</strong>
      <br>
      <span class="glyphicon glyphicon-chevron-right"></span><a href="https://yombo.net">Yombo.net</a><br>
      <span class="glyphicon glyphicon-chevron-right"></span><a href="https://yombo.net/release_notes/gateway/2018_8_19/version_0.21.0">Version 0.21.0 release notes</a><br>
      <span class="glyphicon glyphicon-chevron-right"></span><a href="https://yombo.net/docs">Documentation</a><br>
      <span class="glyphicon glyphicon-chevron-right"></span><a href="https://yombo.net/docs/developing_modules">Developer Guides</a>
    </p>
  </div>
</footer>
<script>
  // The function actually applying the offset
function offsetAnchor() {
  if (location.hash.length !== 0) {
  $('html, body').animate({
      duration: 100,
      scrollTop: $(window).scrollTop() - 120
  });
  }
}

// Captures click events of all a elements with href starting with #
$(document).on('click', 'a[href^="#"]', function(event) {
  // Click events are captured before hashchanges. Timeout
  // causes offsetAnchor to be called after the page jump.
  window.setTimeout(function() {
    offsetAnchor();
  }, 5);
});

// Set the offset when entering page with hash present in the url
window.setTimeout(offsetAnchor, 5);

</script>
{% endblock %}