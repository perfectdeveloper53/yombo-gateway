{% extends "lib/webinterface/fragments/layout.tpl" %}

{% block content %}
<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">{{ _('ui::label::crontab', 'CronTab') }}&nbsp;&nbsp;&nbsp;<a href="#" data-toggle=modal data-target=#localModal><i class="fa fa-question"></i></a></h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>Configured Crontabs</h4>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
               <div class="dataTable_wrapper">
                    <table width="100%" class="table table-striped table-hover table-header-rotated" id="dataTables-example">
                        <thead>
                            <tr>
                                <th class="rotate-45"><div><span>ID</span></div></th>
                                <th class="rotate-45"><div><span>Label / Description</span></div></th>
                                <th class="rotate-45"><div><span>Minutes</span></div></th>
                                <th class="rotate-45"><div><span>Hours</span></div></th>
                                <th class="rotate-45"><div><span>Days</span></div></th>
                                <th class="rotate-45"><div><span>Months</span></div></th>
                                <th class="rotate-45"><div><span>DOW</span></div></th>
                                <th class="rotate-45"><div><span>Enabled</span></div></th>
                                <th class="rotate-45"><div><span>Callback</span></div></th>
                            </tr>
                        </thead>
                        <tbody>{% for cron_id, task in crontabs.items() %}
                             <tr>
                                 <td>{{ task.cron_id }}</td>
                                 <td>{{ task.label }}</td>
                                 <td>{{ task.mins }}</td>
                                 <td>{{ task.hours }}</td>
                                 <td>{{ task.days }}</td>
                                 <td>{{ task.months }}</td>
                                 <td>{{ task.dow }}</td>
                                 <td>{{ task.enabled }}</td>
                                 <td>{{ task.crontab_callback|e }}</td>
                             </tr>{% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- /.panel-body -->
    </div>
    <!-- /.col-lg-6 -->
</div>
<!-- /.row -->
{% endblock %}

